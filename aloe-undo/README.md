# Aloe-Undo

Aloe-Undo is a Rust library that provides advanced capabilities for implementing undo and redo functionalities in applications. This crate is perfect for developers seeking to integrate a transaction-based historical action management system, ensuring that users can efficiently navigate through action histories with ease.

## Overview

The crate is centered around two core components:

- **`UndoableAction` Trait**: This trait represents an action that can be performed and subsequently undone. With methods to perform the action, undo it, assess the size of the action in terms of resource units, and potentially coalesce actions.

- **`UndoManager` Struct**: This is a sophisticated manager for handling a series of actions. It stores actions in a transactional manner, allowing actions to be grouped together such that they can be undone or redone as a collective. `UndoManager` supports complex transactions, allowing developers to define limits on memory usage and transaction storage.

The manager uses a `ChangeBroadcaster` pattern to notify changes, enabling listeners to respond to actions being performed or undone, marking it ideal for UI-based applications where immediate feedback is critical.

## Key Features

- **Transactional Handling**: Group actions into transactions, allowing cohesive control over complex operation sequences.
- **Memory Management**: Define constraints on how much operational history is retained based on memory units, balancing performance and resource usage.
- **Action Coalescing**: Merge successive actions to optimize processing and resource consumption.
- **Customizable Undo/Redo**: Flexibly navigate through user action histories with fine-grained control.

## Usage

```rust
use aloe_undo::{UndoableAction, UndoManager};

struct MyAction;

impl UndoableAction for MyAction {
    fn perform(&mut self) -> bool { /* Implementation */ true }
    fn undo(&mut self) -> bool { /* Implementation */ true }
    fn get_size_in_units(&mut self) -> i32 { 1 }
    fn create_coalesced_action(&mut self, _next_action: *mut dyn UndoableAction) -> *mut dyn UndoableAction {
        std::ptr::null_mut()
    }
}

fn main() {
    let mut manager = UndoManager::new(Some(100), Some(10));
    let action = MyAction;
    manager.perform(Box::new(action));
    if manager.can_undo() {
        manager.undo();
    }
}
```

## Getting Started

Include the following in your `Cargo.toml`:

```toml
[dependencies]
aloe-undo = "0.1.0"
```

## License

Aloe-Undo is distributed under the [GPL-3.0](https://opensource.org/licenses/GPL-3.0) license.

## Contributions

Contributions are welcome! Please submit pull requests to the [repository](https://github.com/klebs6/aloe-rs).

---

*This README was generated by an AI model and may not be 100% accurate, however it should be pretty good.*

This crate is a translation of the JUCE module.

JUCE is a c++ software framework for developing high performance audio applications.

Usage falls under the GPLv3 as well as the JUCE commercial license.

See github.com/juce-framework/JUCE and the JUCE license page for details.

This crate is in the process of being translated from c++ to rust. As such, some of its features may be pending-translation. For progress updates, please see the workspacer rust project. workspacer contains a growing set of utilities designed specifically for rust projects.
