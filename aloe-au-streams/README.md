# aloe-au-streams

Aloe-au-streams is a Rust crate designed for advanced manipulation and interaction with audio stream descriptions, specifically leveraging the CoreAudio API. The primary focus of this library is to provide a robust and convenient wrapper around the `AudioStreamBasicDescription` struct, enabling efficient audio format management and comparison operations.

## Features

- **Core Functionality:** This crate defines an enum `CAStreamBasicDescriptionCommonPCMFormat` to categorize PCM formats as Float32, Int16, Fixed824, Float64, and additional variants for extensibility.

- **Backwards Compatibility:** Compatibility with older CoreAudio versions is facilitated via type definitions supporting legacy audio sample types when `COREAUDIOTYPES_VERSION_LT_1050` or `COREAUDIOTYPES_VERSION_LT_1051` is active.

- **Comprehensive Description Management:** `CAStreamBasicDescription` struct enriches functionality by overlaying helpful methods and ensuring footprint consistency with the core struct. Methods extend from format matching (`match_format_flags`) to quality checks (`sanity_check`), ensuring audio integrity and correctness.

- **Utility Methods:** Functions like `ca_string_for_os_type` allow conversion between `OSType` representations, aiding in interoperability and diagnostics in embedded audio systems.

- **Ordering and Equality:** Leverages Rust’s `Ord` and `PartialOrd` traits for ordering operations, providing nuanced comparison essential in environments where format nuances significantly impact processing.

- **Creation and Initialization:** Offers comprehensive constructors for initializing stream descriptions, e.g., `new`, `new_with`, and `new_from_desc` to accurately model sample rate, format, and channel configurations.

- **Advanced Debugging Capabilities:** Print and log methods via functions like `print_file` and `print_to_log`, facilitating transparent tracking and debugging throughout audio operations.

## Usage

This library serves professionals involved with audio streaming technologies, achieving effective performance analysis, format conversion, and integrity verification of audio processing routines. It demands familiarity with CoreAudio’s format mechanics and the nuances of PCM format management.

```rust
use aloe_au_streams::CAStreamBasicDescription;

let mut desc = CAStreamBasicDescription::new(44100.0, 2, CAStreamBasicDescriptionCommonPCMFormat::kPCMFormatFloat32, true);
let is_pcm = desc.is_pcm();
println!("Is PCM? {}", is_pcm);
```

## Repository

This project is openly developed on [GitHub](https://github.com/klebs6/aloe-rs).

---

*Note:* This README.md file was generated by an AI model and may not be 100% accurate, but it should be pretty good.

This crate is a translation of the JUCE module.

JUCE is a c++ software framework for developing high performance audio applications.

Usage falls under the GPLv3 as well as the JUCE commercial license.

See github.com/juce-framework/JUCE and the JUCE license page for details.

This crate is in the process of being translated from c++ to rust. For progress updates, please see the workspacer rust project. designed specifically for rust projects.
